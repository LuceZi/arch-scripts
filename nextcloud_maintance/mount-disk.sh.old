#!/bin/bash

echo "ğŸ“¦ æ›è¼‰ NextcloudPi è³‡æ–™èˆ‡å‚™ä»½ç£ç¢Ÿä¸­..."

# æ›è¼‰ /srv/nextcloud_dataï¼ˆsda1ï¼‰
if lsblk | grep -q "sda1"; then
  if ! mountpoint -q /srv/nextcloud_data; then
    echo "ğŸ”— æ›è¼‰ /dev/sda1 â†’ /srv/nextcloud_data"
    sudo mkdir -p /srv/nextcloud_data
    sudo mount /dev/sda1 /srv/nextcloud_data
  else
    echo "âœ… /srv/nextcloud_data å·²æ›è¼‰"
  fi
else
  echo "âš  æ‰¾ä¸åˆ° /dev/sda1ï¼Œç•¥éè³‡æ–™ç£ç¢Ÿæ›è¼‰"
fi

# æ›è¼‰ /mnt/USBdrive/ncp-backupsï¼ˆsdb1ï¼‰
if lsblk | grep -q "sdb1"; then
  if ! mountpoint -q /mnt/USBdrive/ncp-backups; then
    echo "ğŸ”— æ›è¼‰ /dev/sdb1 â†’ /mnt/USBdrive/ncp-backups"
    sudo mkdir -p /mnt/USBdrive/ncp-backups
    sudo mount /dev/sdb1 /mnt/USBdrive/ncp-backups
  else
    echo "âœ… /mnt/USBdrive/ncp-backups å·²æ›è¼‰"
  fi
else
  echo "âš  æ‰¾ä¸åˆ° /dev/sdb1ï¼Œç•¥éå‚™ä»½ç£ç¢Ÿæ›è¼‰"
fi

echo "ğŸ‰ æ‰€æœ‰æ›è¼‰ç¨‹åºå®Œæˆ"
